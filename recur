s=Sqrt;r=Range;p=Partition;a@1=1;a@2=1/2;a@3=1/2;a[n_]:=(a[n-2]+1)/2;b@1=s@2;b@2=1/s@2;b@3=1/s@2;b[n_]:=b[n-2]/2;c@1=0;c@2=0;c@3=1;c[n_]:=(c[n-2]+1)/2;d@1=0;d@2=0;d@3=1/(2s@2);d[n_]:=d[n-2]/2;f[n_]:={a/@r@#,b/@r@#,c/@r@#,d/@r@#}&@n;g[n_]:=p[#,2]&/@Thread@f@n;h@0=g@1;h@1=Join[g@1,{{{1,1/s@2},{0,0}}}];h@2=ReplaceAll[g@3,1/(2s@2)->1/s@2];h[n_]:=If[n==0,g@2,If[n>1,g[n]]];i[n_]:=Graphics[{White,EdgeForm@Black,Rectangle[#[[1]],#[[2]]]&/@h[n]}];
